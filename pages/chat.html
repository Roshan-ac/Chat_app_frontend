<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script defer type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <!-- <script defer src="http://192.168.1.65:3000/socket.io/socket.io.js"></script> -->
    <script defer src="https://connect-me-server.herokuapp.com/socket.io/socket.io.js"></script>
    <script defer src="../Script/script.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../Css/chat.css">
    <title>Connect Me</title>
</head>

<body>
    <main class="Main">
        <header>
            <div class="title">
                <div class="image">
                    <img src="../assets/logo.png" alt="">
                    <h4>Anonymous Chat</h4>
                </div>

                <button onclick={show_hide()}>
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
                        <path
                            d="M0 96C0 78.33 14.33 64 32 64H416C433.7 64 448 78.33 448 96C448 113.7 433.7 128 416 128H32C14.33 128 0 113.7 0 96zM0 256C0 238.3 14.33 224 32 224H416C433.7 224 448 238.3 448 256C448 273.7 433.7 288 416 288H32C14.33 288 0 273.7 0 256zM416 448H32C14.33 448 0 433.7 0 416C0 398.3 14.33 384 32 384H416C433.7 384 448 398.3 448 416C448 433.7 433.7 448 416 448z" />
                    </svg>
                </button>
            </div>
        </header>
        <div class="main-container">
            <div class="loader user-section-loader">
                <span class="skeleton-box" style="width:100%;"></span>
                <span class="skeleton-box" style="width:90%;"></span>
                <span class="skeleton-box" style="width:100%;"></span>
                <span class="skeleton-box" style="width:88%;"></span>
                <span class="skeleton-box" style="width:70%;"></span>
                <span class="skeleton-box" style="width:50%;"></span>
                <span class="skeleton-box" style="width:100%;"></span>
                <span class="skeleton-box" style="width:80%;"></span>
            </div>
            <div class="user-section">
                <div class="userAccountSection">
                    <div class="userAvatar">
                        <div class="userImage">
                            <label for="picField">
                                <img id="outImage" src="../assets/upload.png" alt="img">
                                <input id="picField" type="file" style="display: none;" />
                            </label>
                        </div>
                        <div class="userName">
                        </div>
                        <div class="logout-button">
                            <img src="../assets/logout.png" alt="">
                        </div>
                    </div>
                    <hr style="margin-top: 10px;">
                    <div class="title">
                        <h4>Your Friends</h4>
                    </div>
                    <div class="userList">
                    </div>
                    <hr style="margin-top: 10px;">
                    <div class="roomSection">
                        <div class="title">
                            <h4>Your Room</h4>
                        </div>
                        <div class="roomName"></div>
                    </div>
                </div>
            </div>
            <div class="loader message-window-loader">
                <span class="skeleton-box" style="width:100%;"></span>
                <span class="skeleton-box" style="width:90%;"></span>
                <span class="skeleton-box" style="width:100%;"></span>
                <span class="skeleton-box" style="width:88%;"></span>
                <span class="skeleton-box" style="width:70%;"></span>
                <span class="skeleton-box" style="width:50%;"></span>
                <span class="skeleton-box" style="width:100%;"></span>
                <span class="skeleton-box" style="width:80%;"></span>
            </div>
            <div class="message-window">
                <div class='customAlert'>
                    <p class='message'></p>
                    <input type='button' class='confirmButton' value='ok' />
                    <input type='button' class='cancleButton' value='cancle' />
                </div>
                <div class="chat_container">
                    <div class="chat_head">
                        <div class="roomAvatar">
                            <div class="roomImage">
                                <label for="picField">
                                    <img id="outImage" src="../assets/upload.png" alt="img">

                                    <input id="picField" type="file" style="display: none;" />
                                </label>
                            </div>
                            <div class="Name">

                            </div>
                            <div class="expand">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512">
                                    <path
                                        d="M192 384c-8.188 0-16.38-3.125-22.62-9.375l-160-160c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L192 306.8l137.4-137.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-160 160C208.4 380.9 200.2 384 192 384z" />
                                </svg>
                            </div>
                        </div>
                        <div class="options">
                            <svg onclick="videocall()" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                                <path
                                    d="M511.2 387l-23.25 100.8c-3.266 14.25-15.79 24.22-30.46 24.22C205.2 512 0 306.8 0 54.5c0-14.66 9.969-27.2 24.22-30.45l100.8-23.25C139.7-2.602 154.7 5.018 160.8 18.92l46.52 108.5c5.438 12.78 1.77 27.67-8.98 36.45L144.5 207.1c33.98 69.22 90.26 125.5 159.5 159.5l44.08-53.8c8.688-10.78 23.69-14.51 36.47-8.975l108.5 46.51C506.1 357.2 514.6 372.4 511.2 387z" />
                            </svg>
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512">
                                <path
                                    d="M384 112v288c0 26.51-21.49 48-48 48h-288c-26.51 0-48-21.49-48-48v-288c0-26.51 21.49-48 48-48h288C362.5 64 384 85.49 384 112zM576 127.5v256.9c0 25.5-29.17 40.39-50.39 25.79L416 334.7V177.3l109.6-75.56C546.9 87.13 576 102.1 576 127.5z" />
                            </svg>
                        </div>
                    </div>
                </div>
                <div class="chats">
                    <div class="message_body">

                    </div>
                </div>
                <form class="form_input" action="#
">
                    <div class="sendmessage">
                        <input type="text" name="" id="Messageinp" placeholder=" type a message..">
                        <button id="send-message-btn" type="submit">Send</button>
                    </div>
                </form>
            </div>
        </div>
    </main>
</body>

<script>
    document.getElementById('picField').onchange = function(evt) {
        var tgt = evt.target || window.event.srcElement,
            files = tgt.files;

        // FileReader support
        if (FileReader && files && files.length) {
            var fr = new FileReader();
            fr.onload = function() {
                document.getElementById('outImage').src = fr.result;
            }
            fr.readAsDataURL(files[0]);
        }
    }


    const user_section = document.querySelector(".user-section");


    function show_hide() {

        if (user_section.style.visibility == "visible") {
            user_section.style.visibility = "hidden";

        } else {
            user_section.style.visibility = "visible"

        }
    }
</script>

</html>